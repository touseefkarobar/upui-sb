import{r as c,j as r}from"./iframe-DqFU3lqS.js";import{A as y}from"./AddIcon-BmxJfqsz.js";import{C as I}from"./CloseIcon-Cqw2CKjT.js";import{F as p}from"./FilledIcon-Dqfc41BD.js";import{T as j}from"./Text-D3fbAsY-.js";import{F}from"./FaqIcon-ULmCjc4F.js";const k="_picker_p4csw_1",T="_errorTextContainer_p4csw_15",N="_add_p4csw_23",R="_error_p4csw_15",E="_image_p4csw_34",B="_removeBtn_p4csw_41",$="_filled_p4csw_51",s={picker:k,errorTextContainer:T,add:N,error:R,image:E,removeBtn:B,filled:$},q=e=>e.type.startsWith("image/"),z=({onChange:e,className:x="",src:m})=>{const[a,i]=c.useState(m||null),[d,t]=c.useState(!1),o=c.useRef(null);c.useEffect(()=>{i(m||null),t(!1)},[m]);const g=l=>{var u;const n=(u=l.target.files)==null?void 0:u[0];if(t(!1),n){if(!q(n)){i(null),t(!0),e==null||e(null);return}const f=new FileReader;f.onload=w=>{var _;i((_=w.target)==null?void 0:_.result),e==null||e(n)},f.readAsDataURL(n)}else i(null)},v=l=>{l.stopPropagation(),i(null),t(!1),o.current&&(o.current.value=""),e==null||e(null)};return r.jsxs("div",{className:`
        ${s.picker}
        ${a?s.filled:s.add}
        ${d?s.error:""}
        ${x}
      `.replace(/\s+/g," ").trim(),onClick:()=>{var l;return!a&&((l=o.current)==null?void 0:l.click())},children:[r.jsx("input",{ref:o,type:"file",accept:"image/*",style:{display:"none"},onChange:g}),d?r.jsxs(j,{as:"div",className:`${s.errorTextContainer}`,children:[r.jsx(p,{icon:F,size:"large",fillColor:"#fff0ee",color:"#E34C2B"}),r.jsx("span",{className:s.errorText,children:"Invalid file type."})]}):a?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:a,alt:"Selected",className:s.image,onError:()=>t(!0)}),r.jsx(p,{onClick:v,className:s.removeBtn,icon:I,size:"large",fillColor:"var(--pac-upui-red-100)",color:"var(--pac-upui-red-300)"})]}):r.jsx(p,{icon:y,size:"large",fillColor:"white",color:"var(--pac-upui-icon)"})]})};z.__docgenInfo={description:"",methods:[],displayName:"ImagePicker",props:{src:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"Initial image URL to display"},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: File | null) => void",signature:{arguments:[{type:{name:"union",raw:"File | null",elements:[{name:"File"},{name:"null"}]},name:"file"}],return:{name:"void"}}},description:"Callback fired when a new file is selected or removed"},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}}}};export{z as I};
