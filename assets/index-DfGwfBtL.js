import{r as c,j as r}from"./iframe-Bqxp9LPJ.js";import{A as j}from"./AddIcon-BB8_Qies.js";import{C as y}from"./CloseIcon-CEITOzKx.js";import{F as m}from"./FilledIcon-Dmyd1mR6.js";import{T as F}from"./Text-CN7O6Q7n.js";import{F as I}from"./FaqIcon-BaWssTfl.js";const q="_picker_14n2q_1",k="_errorTextContainer_14n2q_29",T="_add_14n2q_45",N="_error_14n2q_29",R="_image_14n2q_67",B="_removeBtn_14n2q_81",E="_filled_14n2q_101",s={picker:q,errorTextContainer:k,add:T,error:N,image:R,removeBtn:B,filled:E},$=e=>e.type.startsWith("image/"),w=({onChange:e,className:_=""})=>{const[l,i]=c.useState(null),[d,a]=c.useState(!1),o=c.useRef(null),x=t=>{var u;const n=(u=t.target.files)==null?void 0:u[0];if(a(!1),n){if(!$(n)){i(null),a(!0),e==null||e(null);return}const p=new FileReader;p.onload=g=>{var f;i((f=g.target)==null?void 0:f.result),e==null||e(n)},p.readAsDataURL(n)}else i(null)},v=t=>{t.stopPropagation(),i(null),a(!1),o.current&&(o.current.value=""),e==null||e(null)};return r.jsxs("div",{className:`
        ${s.picker}
        ${l?s.filled:s.add}
        ${d?s.error:""}
        ${_}
      `.replace(/\s+/g," ").trim(),onClick:()=>{var t;return!l&&((t=o.current)==null?void 0:t.click())},children:[r.jsx("input",{ref:o,type:"file",accept:"image/*",style:{display:"none"},onChange:x}),d?r.jsxs(F,{as:"div",className:`${s.errorTextContainer}`,children:[r.jsx(m,{icon:I,size:"large",fillColor:"#fff0ee",color:"#E34C2B"}),r.jsx("span",{className:s.errorText,children:"Invalid file type."})]}):l?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:l,alt:"Selected",className:s.image,onError:()=>a(!0)}),r.jsx(m,{onClick:v,className:s.removeBtn,icon:y,size:"large",fillColor:"var(--pac-upui-red-100)",color:"var(--pac-upui-red-300)"})]}):r.jsx(m,{icon:j,size:"large",fillColor:"white",color:"var(--pac-upui-icon)"})]})};w.__docgenInfo={description:"",methods:[],displayName:"ImagePicker",props:{onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: File | null) => void",signature:{arguments:[{type:{name:"union",raw:"File | null",elements:[{name:"File"},{name:"null"}]},name:"file"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}}}};export{w as I};
