import{j as t,r as m}from"./iframe-XIocfRDf.js";import{S as $}from"./index-D3I5qpRZ.js";import{s as A}from"./type-Bc9hys3F.js";import{I as f}from"./index-u6s7JZuN.js";import{S as _}from"./index-BEqNW6Pq.js";import{u as de}from"./useOutsideToggle-CgwXT-OZ.js";const he="_wrapper_l7vh6_3",me="_trigger_l7vh6_8",ve="_activeColor_l7vh6_22",ge="_base_l7vh6_29",xe="_small_l7vh6_54",fe="_popup_l7vh6_82",Ce="_up_l7vh6_97",_e="_down_l7vh6_101",be="_canvasMock_l7vh6_105",je="_colorCanvas_l7vh6_113",we="_canvasShade_l7vh6_121",Fe="_hueSliderWrap_l7vh6_135",ye="_alphaSliderWrap_l7vh6_136",Ne="_hueSlider_l7vh6_135",Se="_alphaSlider_l7vh6_136",ke="_presets_l7vh6_193",$e="_presetColor_l7vh6_198",Ie="_comboWrapper_l7vh6_208",Me="_divider_l7vh6_218",Le="_input_l7vh6_233",Re="_selecttrigger_l7vh6_241",Te="_select_l7vh6_241",He="_alphaInput_l7vh6_255",Ee="_Inputhex_l7vh6_261",n={wrapper:he,trigger:me,activeColor:ve,"global-color-picker":"_global-color-picker_l7vh6_29",base:ge,"corner-cutout":"_corner-cutout_l7vh6_43",small:xe,popup:fe,up:Ce,down:_e,canvasMock:be,colorCanvas:je,canvasShade:we,hueSliderWrap:Fe,alphaSliderWrap:ye,hueSlider:Ne,alphaSlider:Se,presets:ke,presetColor:$e,comboWrapper:Ie,divider:Me,input:Le,selecttrigger:Re,select:Te,alphaInput:He,Inputhex:Ee},W=({size:a="base",color:s="var(--pac-upui-icon)"})=>{const l=A[a]||A.base;return t.jsxs("svg",{width:l,height:l,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M14.5696 0.69638C14.3489 0.475603 14.0868 0.300471 13.7984 0.180985C13.51 0.0614989 13.2008 0 12.8886 0C12.5764 0 12.2673 0.0614989 11.9789 0.180985C11.6904 0.300471 11.4284 0.475603 11.2076 0.69638L9.52622 2.37699L8.96601 1.816C8.89239 1.74243 8.80501 1.68408 8.70884 1.64429C8.61267 1.60449 8.50961 1.58403 8.40553 1.58407C8.30145 1.5841 8.1984 1.60464 8.10226 1.6445C8.00612 1.68437 7.91878 1.74277 7.84521 1.81639C7.77164 1.89001 7.7133 1.9774 7.6735 2.07357C7.63371 2.16974 7.61324 2.2728 7.61328 2.37688C7.61332 2.48095 7.63385 2.584 7.67372 2.68014C7.71358 2.77628 7.77199 2.86363 7.84561 2.9372L12.328 7.41883C12.478 7.55971 12.677 7.63669 12.8828 7.63349C13.0885 7.6303 13.285 7.54717 13.4305 7.40171C13.5761 7.25624 13.6594 7.05985 13.6627 6.85409C13.6661 6.64832 13.5892 6.44933 13.4484 6.29921L12.8882 5.73901L14.5696 4.05761C15.0153 3.61183 15.2656 3.00732 15.2656 2.37699C15.2656 1.74667 15.0153 1.14215 14.5696 0.69638V0.69638Z",fill:s}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.86822 4.034L1.70518 10.1978C1.35739 10.5454 1.12592 10.9923 1.04262 11.4769C0.959321 11.9615 1.0283 12.46 1.24006 12.9038L0 14.1438L1.12041 15.265L2.36046 14.0242C2.80416 14.236 3.30262 14.3051 3.78721 14.222C4.27181 14.1388 4.71872 13.9075 5.0664 13.5598L11.2294 7.39681L7.86822 4.0332V4.034ZM8.98862 7.39601L7.86822 6.2756L2.82558 11.3182C2.68125 11.4677 2.60138 11.6678 2.60319 11.8756C2.60499 12.0833 2.68833 12.2821 2.83524 12.429C2.98215 12.5759 3.18088 12.6592 3.38864 12.661C3.5964 12.6628 3.79655 12.583 3.94599 12.4386L8.98862 7.39601Z",fill:s})]})};W.__docgenInfo={description:"",methods:[],displayName:"ColorPickerIcon",props:{size:{required:!1,tsType:{name:"union",raw:`| "xsmall"
| "small"
| "base"
| "medium"
| "large"
| "xlarge"
| "2xlarge"
| "3xlarge"
| "4xlarge"
| "5xlarge"
| "6xlarge"`,elements:[{name:"literal",value:'"xsmall"'},{name:"literal",value:'"small"'},{name:"literal",value:'"base"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'},{name:"literal",value:'"xlarge"'},{name:"literal",value:'"2xlarge"'},{name:"literal",value:'"3xlarge"'},{name:"literal",value:'"4xlarge"'},{name:"literal",value:'"5xlarge"'},{name:"literal",value:'"6xlarge"'}]},description:"",defaultValue:{value:'"base"',computed:!1}},color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"var(--pac-upui-icon)"',computed:!1}}}};const Z=""+new URL("color_picker_bg-C-XbJ_WF.jpg",import.meta.url).href;function We(a){const s=a.match(/^hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)$/i);if(!s)return null;const[l,i,o,h]=s;return{h:parseInt(i),s:parseFloat(o),l:parseFloat(h)}}function O(a){let s=a.replace(/^#/,"");return!s||s.length!==3&&s.length!==6?{r:0,g:0,b:0}:(s.length===3&&(s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2]),{r:parseInt(s.slice(0,2),16),g:parseInt(s.slice(2,4),16),b:parseInt(s.slice(4,6),16)})}function L(a){const{r:s,g:l,b:i}=O(a);return ze(s,l,i)}function Y(a,s,l){s/=100,l/=100;let i=(1-Math.abs(2*l-1))*s,o=i*(1-Math.abs(a/60%2-1)),h=l-i/2,p=0,v=0,d=0;return 0<=a&&a<60?[p,v,d]=[i,o,0]:60<=a&&a<120?[p,v,d]=[o,i,0]:120<=a&&a<180?[p,v,d]=[0,i,o]:180<=a&&a<240?[p,v,d]=[0,o,i]:240<=a&&a<300?[p,v,d]=[o,0,i]:300<=a&&a<360&&([p,v,d]=[i,0,o]),{r:Math.round((p+h)*255),g:Math.round((v+h)*255),b:Math.round((d+h)*255)}}function E(a){if(!a)return;const{h:s,s:l,l:i}=We(a),{r:o,g:h,b:p}=Y(s,l,i);return J(o,h,p)}function J(a,s,l){return"#"+[a,s,l].map(i=>{const o=i.toString(16);return o.length===1?"0"+o:o}).join("")}function ze(a,s,l){a/=255,s/=255,l/=255;const i=Math.max(a,s,l),o=Math.min(a,s,l);let h=0,p=0;const v=(i+o)/2;if(i!==o){const d=i-o;switch(p=v>.5?d/(2-i-o):d/(i+o),i){case a:h=((s-l)/d+(s<l?6:0))*60;break;case s:h=((l-a)/d+2)*60;break;case l:h=((a-s)/d+4)*60;break}}return{h:Math.round(h),s:Math.round(p*100),l:Math.round(v*100)}}const Be=({color:a,setColor:s,opacity:l=1,setOpacity:i,globalPicker:o=!1,preset:h,variant:p="base",popupDirection:v="up"})=>{const{isOpen:d,toggle:z,ref:K}=de(!1),[C,j]=m.useState(0),[w,F]=m.useState(0),[y,N]=m.useState(0),[S,Q]=m.useState("RGB"),[ee,B]=m.useState(!1),[ae,te]=m.useState({width:0,height:0}),[I,P]=m.useState({r:0,g:255,b:0}),se=m.useRef(null),k=m.useRef(null),b=m.useCallback(()=>{if(k.current){const e=k.current.getBoundingClientRect();te({width:e.width,height:e.height})}},[]);m.useEffect(()=>(b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)),[b]);const ne=()=>{const{width:e,height:c}=ae,r=w/100*e;let u=0;if(e>0&&c>0){const g=100-r/e*50,x=0;u=c*(1-(y-x)/(g-x)),u=Math.max(0,Math.min(c,u))}return{left:r,top:u}},re=e=>{const c=parseInt(e.target.value);j(c);const r=E(`hsl(${c}, ${w}%, ${y}%)`);s(r||"")},M=e=>{let c=e.target.value;if(c===""){i(0);return}/^0\d+/.test(c)&&(c=c.replace(/^0+/,""));const r=parseInt(c,10);if(!isNaN(r)){const u=Math.max(0,Math.min(100,r));i(u*.01)}},V=(e,c)=>{if(!k.current)return;const r=k.current.getBoundingClientRect(),u=Math.max(0,Math.min(r.width,e-r.left)),g=Math.max(0,Math.min(r.height,c-r.top)),x=r.width,H=r.height,ue=100-u/x*50,U=0,G=Math.round(U+(ue-U)*(1-g/H)),X=Math.round(u/x*100);F(X),N(G);const pe=`hsl(${C}, ${X}%, ${G}%)`;s(E(pe)??"")},le=e=>{B(!0),V(e.clientX,e.clientY)},ie=e=>{ee&&V(e.clientX,e.clientY)},q=()=>{B(!1)};m.useEffect(()=>{const{h:e,s:c,l:r}=L(a)||{h:0,s:0,l:0};j(e),F(c),N(r)},[a]),m.useEffect(()=>{if(a){let e;a.startsWith("#")?e=O(a):a.startsWith("hsl")?e=Y(C,w,y):e={r:0,g:0,b:0},P(e)}else P({r:0,g:0,b:0})},[a]);const R=(e,c)=>{let r=parseInt(c);isNaN(r)&&(r=0),r=Math.max(0,Math.min(255,r));const u={...I,[e]:r},g=J(u.r,u.g,u.b);s(g)},T=(e,c)=>{let r=parseInt(c);isNaN(r)&&(r=0),r=Math.max(0,Math.min(e==="h"?359:100,r));let u=C,g=w,x=y;e==="h"?u=r:e==="s"?g=r:x=r;const H=E(`hsl(${u}, ${g}%, ${x}%)`);s(H||"")},oe=e=>{const r=`#${e.trim().replace(/^#/,"")}`,{h:u,s:g,l:x}=L(r);s(r),j(u),F(g),N(x)},ce=e=>{const{h:c,s:r,l:u}=L(e);s(e),j(c),F(r),N(u)};m.useEffect(()=>{d&&setTimeout(b,0)},[d,b]);const D=ne();return t.jsxs("div",{className:n.wrapper,ref:K,children:[t.jsxs("div",{style:{backgroundImage:`url(${Z})`,backgroundSize:"contain",borderRadius:"100px",WebkitBackgroundSize:"700%",position:"relative"},children:[t.jsx("div",{className:`${o&&(a||p==="small")?n["global-color-picker"]:n.trigger} ${a&&!o?n.activeColor:""} ${p?n[p]:""}`,style:{backgroundColor:a,borderColor:a.toUpperCase()==="#FFFFFF"?"var(--pac-upui-medium)":a,borderWidth:a?"1px":"2px",opacity:l},onClick:z,children:o&&t.jsx("div",{className:n["corner-cutout"],style:{backgroundColor:a.toUpperCase()==="#FFFFFF"?"var(--pac-upui-medium)":"white"}})}),p==="base"&&t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",inset:"0"},onClick:z,children:t.jsx(W,{size:"xsmall",color:a.toUpperCase()==="#FFFFFF"||l<.33||!a?"var(--pac-upui-icon)":"white"})})]}),d&&t.jsxs("div",{className:`${n.popup} ${n[v]}`,ref:se,children:[t.jsx("div",{className:n.canvasMock,children:t.jsxs("div",{className:n.colorCanvas,ref:k,style:{"--hue":C,position:"relative"},onPointerDown:le,onPointerMove:ie,onPointerUp:q,onPointerLeave:q,children:[t.jsx("div",{className:n.canvasShade}),t.jsx("div",{className:n.selectionMarker,style:{position:"absolute",left:D.left+"px",top:D.top+"px",width:"16px",height:"16px",borderRadius:"50%",border:"2px solid  var(--pac-upui-white)",boxShadow:"0 0 2px rgba(0,0,0,0.5)",pointerEvents:"none",background:a,transform:"translate(-50%, -50%)"}})]})}),t.jsxs($,{gap:12,children:[t.jsxs($,{direction:"horizontal",children:[t.jsx(Pe,{handleEyeDropperClick:ce,color:a,opacity:l}),t.jsxs($,{gap:12,style:{flexGrow:1},children:[t.jsx("input",{type:"range",min:"0",max:"359",value:C,className:n.hueSlider,onChange:re}),t.jsx("input",{type:"range",min:"0",max:"100",value:l*100,className:n.alphaSlider,onChange:M,style:{background:`linear-gradient(to right, rgba(0,0,0,0), hsl(${C}, 100%, 50%))`}})]})]}),t.jsxs($,{gap:12,children:[t.jsxs("div",{className:`${n.comboWrapper} `,children:[t.jsxs(_,{onValueChange:Q,defaultValue:S,defaultLabel:S,className:`${n.select}`,children:[t.jsx(_.Trigger,{className:`${n.selecttrigger}`,children:t.jsx(_.Value,{})}),t.jsxs(_.Content,{className:n.content,children:[t.jsx(_.Item,{value:"RGB",children:"RGB"}),t.jsx(_.Item,{value:"HSL",children:"HSL"}),t.jsx(_.Item,{value:"HEX",children:"HEX"})]})]}),S==="RGB"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:n.divider}),t.jsx(f,{caption:"R: ",value:I.r,onChange:e=>R("r",e.target.value),className:`${n.input} `}),t.jsx("div",{className:n.divider}),t.jsx(f,{caption:"G:",value:I.g,onChange:e=>R("g",e.target.value),className:`${n.input} `}),t.jsx("div",{className:n.divider}),t.jsx(f,{caption:"B:",value:I.b,onChange:e=>R("b",e.target.value),className:`${n.input} `}),t.jsx("div",{className:n.divider}),t.jsx(f,{caption:"%",value:l*100,onChange:e=>M(e),className:`${n.input} ${n.alphaInput} `})]}),S==="HSL"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:n.divider}),t.jsx(f,{caption:"H: ",value:C,onChange:e=>T("h",e.target.value),className:`${n.input} `}),t.jsx("div",{className:n.divider}),t.jsx(f,{caption:"S:",value:w,onChange:e=>T("s",e.target.value),className:`${n.input} `}),t.jsx("div",{className:n.divider}),t.jsx(f,{caption:"L:",value:y,onChange:e=>T("l",e.target.value),className:`${n.input} `}),t.jsx("div",{className:n.divider}),t.jsx(f,{caption:"%",value:l*100,onChange:e=>M(e),className:`${n.input} ${n.alphaInput} `})]}),S==="HEX"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:n.divider}),t.jsx(f,{type:"text",value:a||"#000000",onChange:e=>oe(e.target.value),maxLength:7,className:`${n.input} ${n.Inputhex}`}),t.jsx("div",{className:n.divider}),t.jsx(f,{caption:"%",value:l*100,onChange:e=>M(e),className:`${n.input} ${n.alphaInput} ${n.alphaInputhex}`})]})]}),t.jsx($,{direction:"horizontal",className:n.presets,children:h.map(e=>t.jsx("div",{className:n.presetColor,style:{backgroundColor:e,borderColor:e.toUpperCase()==="#FFFFFF"?"var(--pac-upui-medium)":e},onClick:()=>{const{h:c,s:r,l:u}=L(e);s(e),j(c),F(r),N(u)}},e))})]})]})]})]})},Pe=({color:a,opacity:s,handleEyeDropperClick:l})=>{const i=async()=>{if(!("EyeDropper"in window)){alert("Eyedropper API not supported");return}try{const h=await new window.EyeDropper().open();l(h.sRGBHex)}catch(o){console.error(o)}};return t.jsxs("div",{style:{backgroundImage:`url(${Z})`,backgroundSize:"contain",borderRadius:"100px",WebkitBackgroundSize:"700%",position:"relative"},children:[t.jsx("div",{className:`${n.trigger} ${a?n.activeColor:""}`,style:{backgroundColor:a,borderColor:a.toUpperCase()==="#FFFFFF"?"var(--pac-upui-medium)":a,borderWidth:a?"1px":"2px",opacity:s}}),t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",inset:"0"},onClick:i,children:t.jsx(W,{size:"xsmall",color:a.toUpperCase()==="#FFFFFF"||s<.33||!a?"var(--pac-upui-icon)":"white"})})]})};Be.__docgenInfo={description:"",methods:[],displayName:"CustomColorPicker",props:{color:{required:!0,tsType:{name:"string"},description:""},setColor:{required:!0,tsType:{name:"signature",type:"function",raw:"(color: string) => void",signature:{arguments:[{type:{name:"string"},name:"color"}],return:{name:"void"}}},description:""},opacity:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},setOpacity:{required:!0,tsType:{name:"signature",type:"function",raw:"(opacity: number) => void",signature:{arguments:[{type:{name:"number"},name:"opacity"}],return:{name:"void"}}},description:""},globalPicker:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},variant:{required:!1,tsType:{name:"union",raw:'"small" | "base"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"base"'}]},description:"",defaultValue:{value:'"base"',computed:!1}},preset:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},popupDirection:{required:!1,tsType:{name:"union",raw:'"up" | "down"',elements:[{name:"literal",value:'"up"'},{name:"literal",value:'"down"'}]},description:"",defaultValue:{value:'"up"',computed:!1}}}};export{Be as C};
