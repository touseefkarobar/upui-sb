import{R as s,j as m}from"./iframe-B89YVXcJ.js";import{g as $}from"./generateId-C1v-VC-6.js";import{B as z}from"./index-B_JkahKw.js";import{A as S}from"./AddIcon-QymDaBRc.js";const H="_wrapper_10ysd_1",E="_items_10ysd_7",L="_item_10ysd_7",F="_addButton_10ysd_17",c={wrapper:H,items:E,item:L,addButton:F},R=a=>Array.from({length:Math.max(0,a)},()=>$()),W=a=>typeof a=="function",Z=({children:a,addButtonLabel:v="Add Item",addButtonIcon:I=S,buttonProps:_,className:B="",itemsWrapperClassName:b="",initialCount:g=1,maxItems:h,value:V,defaultValue:C,onChange:i,createItem:r})=>{const p=V!==void 0,[A,N]=s.useState(()=>Array.isArray(C)?C:Array.from({length:Math.max(0,g)},()=>r?r():void 0)),n=(p?V:A)??[],q=n.length||Math.max(0,g),[w,T]=s.useState(()=>R(q)),f=typeof h=="number"?w.length<h:!0;s.useEffect(()=>{const e=Math.max(n.length,0);T(t=>t.length===e?t:t.length<e?[...t,...R(e-t.length)]:t.slice(0,e))},[n.length]);const o=s.useCallback(e=>{p||N(e),i==null||i(e)},[p,i]),x=s.useCallback(e=>{if(n.length===0)return;const t=n.filter((l,u)=>u!==e);o(t),T(l=>l.filter((u,d)=>d!==e))},[o,n]),P=s.useCallback(()=>{if(!f)return;const e=r?r():void 0;o([...n,e])},[f,r,o,n]),{onClick:y,className:M="",...j}=_||{},k=e=>{y==null||y(e),!e.defaultPrevented&&P()};return m.jsxs("div",{className:`${c.wrapper} ${B}`,children:[m.jsx("div",{className:`${c.items} ${b}`,children:w.map((e,t)=>{const l=W(a)?a({index:t,id:e,value:n[t],onValueChange:u=>{const d=[...n];d[t]=u,o(d)},remove:()=>x(t)}):a;return m.jsx("div",{className:c.item,children:l},e)})}),f&&m.jsx(z,{type:"button",size:"large",leftIcon:I,onClick:k,...j,className:`${c.addButton} ${M}`,children:v})]})};Z.__docgenInfo={description:"",methods:[],displayName:"RepeatableSection",props:{children:{required:!0,tsType:{name:"union",raw:"React.ReactNode | ((params: RepeatableSectionRenderParams<TValue>) => React.ReactNode)",elements:[{name:"ReactReactNode",raw:"React.ReactNode"},{name:"unknown"}]},description:""},addButtonLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Add Item"',computed:!1}},addButtonIcon:{required:!1,tsType:{name:'ButtonProps["leftIcon"]',raw:'ButtonProps["leftIcon"]'},description:"",defaultValue:{value:`({
  size = "base",
  color = "var(--pac-upui-icon)",
}) => {
  const dimension = sizeMap[size] || sizeMap.base;
  return (
    <svg
      width={dimension}
      height={dimension}
      viewBox="0 0 26 26"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        fillRule="evenodd"
        clipRule="evenodd"
        d="M16.7165 12.0717H13.9308V9.28599C13.9308 9.03972 13.833 8.80354 13.6588 8.62939C13.4847 8.45525 13.2485 8.35742 13.0022 8.35742C12.756 8.35742 12.5198 8.45525 12.3456 8.62939C12.1715 8.80354 12.0737 9.03972 12.0737 9.28599V12.0717H9.28795C9.04167 12.0717 8.80549 12.1695 8.63135 12.3437C8.45721 12.5178 8.35938 12.754 8.35938 13.0003C8.35938 13.2466 8.45721 13.4827 8.63135 13.6569C8.80549 13.831 9.04167 13.9289 9.28795 13.9289H12.0737V16.7146C12.0737 16.9608 12.1715 17.197 12.3456 17.3712C12.5198 17.5453 12.756 17.6431 13.0022 17.6431C13.2485 17.6431 13.4847 17.5453 13.6588 17.3712C13.833 17.197 13.9308 16.9608 13.9308 16.7146V13.9289H16.7165C16.9628 13.9289 17.199 13.831 17.3731 13.6569C17.5473 13.4827 17.6451 13.2466 17.6451 13.0003C17.6451 12.754 17.5473 12.5178 17.3731 12.3437C17.199 12.1695 16.9628 12.0717 16.7165 12.0717Z"
        fill={color}
      />
    </svg>
  );
}`,computed:!1}},buttonProps:{required:!1,tsType:{name:"Partial",elements:[{name:"ButtonProps"}],raw:"Partial<ButtonProps>"},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},itemsWrapperClassName:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}},initialCount:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},maxItems:{required:!1,tsType:{name:"number"},description:""},value:{required:!1,tsType:{name:"Array",elements:[{name:"TValue"}],raw:"TValue[]"},description:""},defaultValue:{required:!1,tsType:{name:"Array",elements:[{name:"TValue"}],raw:"TValue[]"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(nextItems: TValue[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"TValue"}],raw:"TValue[]"},name:"nextItems"}],return:{name:"void"}}},description:""},createItem:{required:!1,tsType:{name:"signature",type:"function",raw:"() => TValue",signature:{arguments:[],return:{name:"TValue"}}},description:""}}};export{Z as R};
