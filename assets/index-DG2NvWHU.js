import{R as i,j as p}from"./iframe-CjcvmM4n.js";import{C as z}from"./CloseIcon-C9MikA5z.js";const S="_container_nkgn5_1",B="_disabled_nkgn5_22",O="_input_nkgn5_27",F="_tag_nkgn5_31",m={container:S,disabled:B,input:O,tag:F,"tag-label":"_tag-label_nkgn5_46","remove-button":"_remove-button_nkgn5_51"},E=d=>d.trim(),G=({value:d,defaultValue:_=[],onChange:h,onInputChange:y,allowDuplicates:f=!1,validateTag:c,className:I,disabled:a,placeholder:$="Type and press enter…",onKeyDown:u,...j})=>{const g=Array.isArray(d),[q,C]=i.useState(_),[r,k]=i.useState(""),R=i.useRef(null);i.useEffect(()=>{g||C(_)},[_,g]);const s=g?d:q,o=i.useCallback(e=>{g||C(e),h==null||h(e)},[g,h]),v=i.useCallback(e=>{const t=E(e);t&&(!f&&s.some(l=>l.localeCompare(t,void 0,{sensitivity:"accent"})===0)||c&&!c(t,s)||(o([...s,t]),k("")))},[f,s,o,c]),T=i.useCallback(e=>{const t=e.map(n=>E(n)).filter(n=>!(!n||!f&&s.some(b=>b.localeCompare(n,void 0,{sensitivity:"accent"})===0)||c&&!c(n,s)));if(t.length>0){const n=f?t:t.filter((l,b,H)=>H.findIndex(L=>L.localeCompare(l,void 0,{sensitivity:"accent"})===0)===b);o([...s,...n]),k("")}},[f,s,o,c]),x=i.useCallback(e=>{if(a)return;const t=s.filter((n,l)=>l!==e);o(t)},[a,s,o]),A=i.useCallback(e=>{if(a){u==null||u(e);return}if(e.key==="Enter")if(e.preventDefault(),r.includes(",")){const t=r.split(",").map(n=>n.trim()).filter(n=>n.length>0);t.length>0&&T(t)}else v(r);else e.key===" "&&/\s{1,}$/.test(r)?(e.preventDefault(),v(r.trim())):e.key==="Backspace"&&r.length===0&&s.length&&(e.preventDefault(),x(s.length-1));u==null||u(e)},[a,v,T,x,r,u,s]),N=i.useCallback(e=>{a||(k(e.target.value),y==null||y(e))},[a,y]),P=i.useCallback(e=>{if(a)return;const t=e.clipboardData.getData("text");if(t.includes(",")||t.includes(`
`)){e.preventDefault();const n=t.split(/[,\n]+/).map(l=>l.trim()).filter(l=>l.length>0);n.length>0&&(r.trim()&&n.unshift(r.trim()),T(n))}},[a,r,T]),M=i.useCallback(()=>{var e;a||(e=R.current)==null||e.focus()},[a]),V=s.length===0&&r.length===0?$:"";return p.jsxs("div",{className:`${m.container} ${a?m.disabled:""} ${I||""}`,onClick:M,"data-disabled":a,children:[s.map((e,t)=>p.jsxs("span",{className:`${m.tag} pac-upui-h4 pac-upui-font-regular`,children:[p.jsx("span",{className:m["tag-label"],children:e}),p.jsx("button",{type:"button",className:m["remove-button"],onClick:n=>{n.stopPropagation(),x(t)},"aria-label":`Remove ${e}`,disabled:a,children:p.jsx(z,{size:"base",color:"var(--pac-upui-medium)"})})]},`${e}-${t}`)),p.jsx("input",{ref:R,type:"text",className:`${m.input} pac-upui-h4 pac-upui-font-regular`,value:r,onChange:N,onKeyDown:A,onPaste:P,placeholder:V,disabled:a,...j})]})};G.__docgenInfo={description:"",methods:[],displayName:"TagInput",props:{value:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},defaultValue:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:"[]",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(tags: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"tags"}],return:{name:"void"}}},description:""},onInputChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"event"}],return:{name:"void"}}},description:""},allowDuplicates:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},validateTag:{required:!1,tsType:{name:"signature",type:"function",raw:"(tag: string, currentTags: string[]) => boolean",signature:{arguments:[{type:{name:"string"},name:"tag"},{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"currentTags"}],return:{name:"boolean"}}},description:""},placeholder:{defaultValue:{value:'"Type and press enter…"',computed:!1},required:!1}},composes:["Omit"]};export{G as T};
