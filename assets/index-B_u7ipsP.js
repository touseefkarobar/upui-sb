import{j as e,r as g}from"./iframe-C7wscEl7.js";import{S as F}from"./index-CPsyBaU-.js";import{s as Q}from"./type-Bc9hys3F.js";import{I as j}from"./index-CqN93wzL.js";import{S as I}from"./index-DVoT6tuZ.js";import{u as he}from"./useOutsideToggle-BNDWnRb2.js";import{F as ge}from"./FilledIcon-S-I4GpVb.js";import{R as ve}from"./ResetIcon-B2gVCHyW.js";const xe="_wrapper_c1tau_3",fe="_trigger_c1tau_8",Ce="_activeColor_c1tau_22",_e="_base_c1tau_29",be="_small_c1tau_54",je="_popup_c1tau_82",ye="_up_c1tau_97",we="_down_c1tau_101",Fe="_canvasMock_c1tau_105",Ne="_colorCanvas_c1tau_113",ke="_canvasShade_c1tau_121",$e="_hueSliderWrap_c1tau_135",Se="_alphaSliderWrap_c1tau_136",Ie="_hueSlider_c1tau_135",Me="_alphaSlider_c1tau_136",Re="_presets_c1tau_193",Le="_presetColor_c1tau_198",Te="_comboWrapper_c1tau_208",He="_divider_c1tau_218",We="_input_c1tau_233",ze="_selecttrigger_c1tau_246",Ee="_select_c1tau_246",Pe="_alphaInput_c1tau_260",qe="_Inputhex_c1tau_266",n={wrapper:xe,trigger:fe,activeColor:Ce,"global-color-picker":"_global-color-picker_c1tau_29",base:_e,"corner-cutout":"_corner-cutout_c1tau_43",small:be,popup:je,up:ye,down:we,canvasMock:Fe,colorCanvas:Ne,canvasShade:ke,hueSliderWrap:$e,alphaSliderWrap:Se,hueSlider:Ie,alphaSlider:Me,presets:Re,presetColor:Le,comboWrapper:Te,divider:He,input:We,selecttrigger:ze,select:Ee,alphaInput:Pe,Inputhex:qe},G=({size:a="base",color:s="var(--pac-upui-icon)"})=>{const i=Q[a]||Q.base;return e.jsxs("svg",{width:i,height:i,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M14.5696 0.69638C14.3489 0.475603 14.0868 0.300471 13.7984 0.180985C13.51 0.0614989 13.2008 0 12.8886 0C12.5764 0 12.2673 0.0614989 11.9789 0.180985C11.6904 0.300471 11.4284 0.475603 11.2076 0.69638L9.52622 2.37699L8.96601 1.816C8.89239 1.74243 8.80501 1.68408 8.70884 1.64429C8.61267 1.60449 8.50961 1.58403 8.40553 1.58407C8.30145 1.5841 8.1984 1.60464 8.10226 1.6445C8.00612 1.68437 7.91878 1.74277 7.84521 1.81639C7.77164 1.89001 7.7133 1.9774 7.6735 2.07357C7.63371 2.16974 7.61324 2.2728 7.61328 2.37688C7.61332 2.48095 7.63385 2.584 7.67372 2.68014C7.71358 2.77628 7.77199 2.86363 7.84561 2.9372L12.328 7.41883C12.478 7.55971 12.677 7.63669 12.8828 7.63349C13.0885 7.6303 13.285 7.54717 13.4305 7.40171C13.5761 7.25624 13.6594 7.05985 13.6627 6.85409C13.6661 6.64832 13.5892 6.44933 13.4484 6.29921L12.8882 5.73901L14.5696 4.05761C15.0153 3.61183 15.2656 3.00732 15.2656 2.37699C15.2656 1.74667 15.0153 1.14215 14.5696 0.69638V0.69638Z",fill:s}),e.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.86822 4.034L1.70518 10.1978C1.35739 10.5454 1.12592 10.9923 1.04262 11.4769C0.959321 11.9615 1.0283 12.46 1.24006 12.9038L0 14.1438L1.12041 15.265L2.36046 14.0242C2.80416 14.236 3.30262 14.3051 3.78721 14.222C4.27181 14.1388 4.71872 13.9075 5.0664 13.5598L11.2294 7.39681L7.86822 4.0332V4.034ZM8.98862 7.39601L7.86822 6.2756L2.82558 11.3182C2.68125 11.4677 2.60138 11.6678 2.60319 11.8756C2.60499 12.0833 2.68833 12.2821 2.83524 12.429C2.98215 12.5759 3.18088 12.6592 3.38864 12.661C3.5964 12.6628 3.79655 12.583 3.94599 12.4386L8.98862 7.39601Z",fill:s})]})};G.__docgenInfo={description:"",methods:[],displayName:"ColorPickerIcon",props:{size:{required:!1,tsType:{name:"union",raw:`| "xsmall"
| "small"
| "base"
| "medium"
| "large"
| "xlarge"
| "2xlarge"
| "3xlarge"
| "4xlarge"
| "5xlarge"
| "6xlarge"`,elements:[{name:"literal",value:'"xsmall"'},{name:"literal",value:'"small"'},{name:"literal",value:'"base"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'},{name:"literal",value:'"xlarge"'},{name:"literal",value:'"2xlarge"'},{name:"literal",value:'"3xlarge"'},{name:"literal",value:'"4xlarge"'},{name:"literal",value:'"5xlarge"'},{name:"literal",value:'"6xlarge"'}]},description:"",defaultValue:{value:'"base"',computed:!1}},color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"var(--pac-upui-icon)"',computed:!1}}}};const ee=""+new URL("color_picker_bg-C-XbJ_WF.jpg",import.meta.url).href;function Be(a){const s=a.match(/^hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)$/i);if(!s)return null;const[i,l,o,m]=s;return{h:parseInt(l),s:parseFloat(o),l:parseFloat(m)}}function ae(a){let s=a.replace(/^#/,"");return!s||s.length!==3&&s.length!==6?{r:0,g:0,b:0}:(s.length===3&&(s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2]),{r:parseInt(s.slice(0,2),16),g:parseInt(s.slice(2,4),16),b:parseInt(s.slice(4,6),16)})}function z(a){const{r:s,g:i,b:l}=ae(a);return Ve(s,i,l)}function te(a,s,i){s/=100,i/=100;let l=(1-Math.abs(2*i-1))*s,o=l*(1-Math.abs(a/60%2-1)),m=i-l/2,p=0,h=0,d=0;return 0<=a&&a<60?[p,h,d]=[l,o,0]:60<=a&&a<120?[p,h,d]=[o,l,0]:120<=a&&a<180?[p,h,d]=[0,l,o]:180<=a&&a<240?[p,h,d]=[0,o,l]:240<=a&&a<300?[p,h,d]=[o,0,l]:300<=a&&a<360&&([p,h,d]=[l,0,o]),{r:Math.round((p+m)*255),g:Math.round((h+m)*255),b:Math.round((d+m)*255)}}function D(a){if(!a)return;const{h:s,s:i,l}=Be(a),{r:o,g:m,b:p}=te(s,i,l);return se(o,m,p)}function se(a,s,i){return"#"+[a,s,i].map(l=>{const o=l.toString(16);return o.length===1?"0"+o:o}).join("")}function Ve(a,s,i){a/=255,s/=255,i/=255;const l=Math.max(a,s,i),o=Math.min(a,s,i);let m=0,p=0;const h=(l+o)/2;if(l!==o){const d=l-o;switch(p=h>.5?d/(2-l-o):d/(l+o),l){case a:m=((s-i)/d+(s<i?6:0))*60;break;case s:m=((i-a)/d+2)*60;break;case i:m=((a-s)/d+4)*60;break}}return{h:Math.round(m),s:Math.round(p*100),l:Math.round(h*100)}}const ne=({color:a,setColor:s,opacity:i=1,setOpacity:l,globalPicker:o=!1,preset:m,variant:p="base",popupDirection:h="up"})=>{const{isOpen:d,toggle:L,ref:P}=he(!1),[f,y]=g.useState(0),[x,N]=g.useState(0),[k,$]=g.useState(0),[w,v]=g.useState("RGB"),[C,S]=g.useState(!1),[q,T]=g.useState({width:0,height:0}),[H,O]=g.useState({r:0,g:255,b:0}),re=g.useRef(null),R=g.useRef(null),M=g.useCallback(()=>{if(R.current){const t=R.current.getBoundingClientRect();T({width:t.width,height:t.height})}},[]);g.useEffect(()=>(M(),window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)),[M]);const ie=()=>{const{width:t,height:c}=q,r=x/100*t;let u=0;if(t>0&&c>0){const _=100-r/t*50,b=0;u=c*(1-(k-b)/(_-b)),u=Math.max(0,Math.min(c,u))}return{left:r,top:u}},le=t=>{const c=parseInt(t.target.value);y(c);const r=D(`hsl(${c}, ${x}%, ${k}%)`);s(r||"")},W=t=>{let c=t.target.value;if(c===""){l(0);return}/^0\d+/.test(c)&&(c=c.replace(/^0+/,""));const r=parseInt(c,10);if(!isNaN(r)){const u=Math.max(0,Math.min(100,r));l(u*.01)}},A=(t,c)=>{if(!R.current)return;const r=R.current.getBoundingClientRect(),u=Math.max(0,Math.min(r.width,t-r.left)),_=Math.max(0,Math.min(r.height,c-r.top)),b=r.width,U=r.height,de=100-u/b*50,Y=0,J=Math.round(Y+(de-Y)*(1-_/U)),K=Math.round(u/b*100);N(K),$(J);const me=`hsl(${f}, ${K}%, ${J}%)`;s(D(me)??"")},oe=t=>{S(!0),A(t.clientX,t.clientY)},ce=t=>{C&&A(t.clientX,t.clientY)},X=()=>{S(!1)};g.useEffect(()=>{const{h:t,s:c,l:r}=z(a)||{h:0,s:0,l:0};y(t),N(c),$(r)},[a]),g.useEffect(()=>{if(a){let t;a.startsWith("#")?t=ae(a):a.startsWith("hsl")?t=te(f,x,k):t={r:0,g:0,b:0},O(t)}else O({r:0,g:0,b:0})},[a]);const B=(t,c)=>{let r=parseInt(c);isNaN(r)&&(r=0),r=Math.max(0,Math.min(255,r));const u={...H,[t]:r},_=se(u.r,u.g,u.b);s(_)},V=(t,c)=>{let r=parseInt(c);isNaN(r)&&(r=0),r=Math.max(0,Math.min(t==="h"?359:100,r));let u=f,_=x,b=k;t==="h"?u=r:t==="s"?_=r:b=r;const U=D(`hsl(${u}, ${_}%, ${b}%)`);s(U||"")},ue=t=>{const r=`#${t.trim().replace(/^#/,"")}`,{h:u,s:_,l:b}=z(r);s(r),y(u),N(_),$(b)},pe=t=>{const{h:c,s:r,l:u}=z(t);s(t),y(c),N(r),$(u)};g.useEffect(()=>{d&&setTimeout(M,0)},[d,M]);const Z=ie();return e.jsxs("div",{className:n.wrapper,ref:P,children:[e.jsxs("div",{style:{backgroundImage:`url(${ee})`,backgroundSize:"contain",borderRadius:"100px",WebkitBackgroundSize:"700%",position:"relative"},children:[e.jsx("div",{className:`${o&&(a||p==="small")?n["global-color-picker"]:n.trigger} ${a&&!o?n.activeColor:""} ${p?n[p]:""}`,style:{backgroundColor:a,borderColor:a.toUpperCase()==="#FFFFFF"?"var(--pac-upui-medium)":a,borderWidth:a?"1px":"2px",opacity:i},onClick:L,children:o&&e.jsx("div",{className:n["corner-cutout"],style:{backgroundColor:a.toUpperCase()==="#FFFFFF"?"var(--pac-upui-medium)":"white"}})}),p==="base"&&e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",inset:"0"},onClick:L,children:e.jsx(G,{size:"xsmall",color:a.toUpperCase()==="#FFFFFF"||i<.33||!a?"var(--pac-upui-icon)":"white"})})]}),d&&e.jsxs("div",{className:`${n.popup} ${n[h]}`,ref:re,children:[e.jsx("div",{className:n.canvasMock,children:e.jsxs("div",{className:n.colorCanvas,ref:R,style:{"--hue":f,position:"relative"},onPointerDown:oe,onPointerMove:ce,onPointerUp:X,onPointerLeave:X,children:[e.jsx("div",{className:n.canvasShade}),e.jsx("div",{className:n.selectionMarker,style:{position:"absolute",left:Z.left+"px",top:Z.top+"px",width:"16px",height:"16px",borderRadius:"50%",border:"2px solid  var(--pac-upui-white)",boxShadow:"0 0 2px rgba(0,0,0,0.5)",pointerEvents:"none",background:a,transform:"translate(-50%, -50%)"}})]})}),e.jsxs(F,{gap:12,children:[e.jsxs(F,{direction:"horizontal",children:[e.jsx(Ue,{handleEyeDropperClick:pe,color:a,opacity:i}),e.jsxs(F,{gap:12,style:{flexGrow:1},children:[e.jsx("input",{type:"range",min:"0",max:"359",value:f,className:n.hueSlider,onChange:le}),e.jsx("input",{type:"range",min:"0",max:"100",value:i*100,className:n.alphaSlider,onChange:W,style:{background:`linear-gradient(to right, rgba(0,0,0,0), hsl(${f}, 100%, 50%))`}})]})]}),e.jsxs(F,{gap:12,children:[e.jsxs(F,{direction:"horizontal",alignItems:"center",children:[e.jsx(ge,{onClick:()=>s(""),icon:ve,size:"xlarge",rounded:!0,fillColor:"var(--pac-upui-background)"})," ",e.jsxs("div",{className:`${n.comboWrapper} `,children:[e.jsxs(I,{onValueChange:v,defaultValue:w,defaultLabel:w,className:`${n.select}`,children:[e.jsx(I.Trigger,{className:`${n.selecttrigger}`,children:e.jsx(I.Value,{})}),e.jsxs(I.Content,{className:n.content,children:[e.jsx(I.Item,{value:"RGB",children:"RGB"}),e.jsx(I.Item,{value:"HSL",children:"HSL"}),e.jsx(I.Item,{value:"HEX",children:"HEX"})]})]}),w==="RGB"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:n.divider}),e.jsx(j,{caption:"R: ",value:H.r,onChange:t=>B("r",t.target.value),className:`${n.input} `}),e.jsx("div",{className:n.divider}),e.jsx(j,{caption:"G:",value:H.g,onChange:t=>B("g",t.target.value),className:`${n.input} `}),e.jsx("div",{className:n.divider}),e.jsx(j,{caption:"B:",value:H.b,onChange:t=>B("b",t.target.value),className:`${n.input} `}),e.jsx("div",{className:n.divider}),e.jsx(j,{caption:"%",value:i*100,onChange:t=>W(t),className:`${n.input} ${n.alphaInput} `})]}),w==="HSL"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:n.divider}),e.jsx(j,{caption:"H: ",value:f,onChange:t=>V("h",t.target.value),className:`${n.input} `}),e.jsx("div",{className:n.divider}),e.jsx(j,{caption:"S:",value:x,onChange:t=>V("s",t.target.value),className:`${n.input} `}),e.jsx("div",{className:n.divider}),e.jsx(j,{caption:"L:",value:k,onChange:t=>V("l",t.target.value),className:`${n.input} `}),e.jsx("div",{className:n.divider}),e.jsx(j,{caption:"%",value:i*100,onChange:t=>W(t),className:`${n.input} ${n.alphaInput} `})]}),w==="HEX"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:n.divider}),e.jsx(j,{type:"text",value:a||"#000000",onChange:t=>ue(t.target.value),maxLength:7,className:`${n.input} ${n.Inputhex}`}),e.jsx("div",{className:n.divider}),e.jsx(j,{caption:"%",value:i*100,onChange:t=>W(t),className:`${n.input} ${n.alphaInput} ${n.alphaInputhex}`})]})]})]}),e.jsx(F,{direction:"horizontal",className:n.presets,children:m.map(t=>e.jsx("div",{className:n.presetColor,style:{backgroundColor:t,borderColor:t.toUpperCase()==="#FFFFFF"?"var(--pac-upui-medium)":t},onClick:()=>{const{h:c,s:r,l:u}=z(t);s(t),y(c),N(r),$(u)}},t))})]})]})]})]})},Ue=({color:a,opacity:s,handleEyeDropperClick:i})=>{const l=async()=>{if(!("EyeDropper"in window)){alert("Eyedropper API not supported");return}try{const m=await new window.EyeDropper().open();i(m.sRGBHex)}catch(o){console.error(o)}};return e.jsxs("div",{style:{backgroundImage:`url(${ee})`,backgroundSize:"contain",borderRadius:"100px",WebkitBackgroundSize:"700%",position:"relative"},children:[e.jsx("div",{className:`${n.trigger} ${a?n.activeColor:""}`,style:{backgroundColor:a,borderColor:a.toUpperCase()==="#FFFFFF"?"var(--pac-upui-medium)":a,borderWidth:a?"1px":"2px",opacity:s}}),e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",inset:"0"},onClick:l,children:e.jsx(G,{size:"xsmall",color:a.toUpperCase()==="#FFFFFF"||s<.33||!a?"var(--pac-upui-icon)":"white"})})]})};ne.__docgenInfo={description:"",methods:[],displayName:"CustomColorPicker",props:{color:{required:!0,tsType:{name:"string"},description:""},setColor:{required:!0,tsType:{name:"signature",type:"function",raw:"(color: string) => void",signature:{arguments:[{type:{name:"string"},name:"color"}],return:{name:"void"}}},description:""},opacity:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},setOpacity:{required:!0,tsType:{name:"signature",type:"function",raw:"(opacity: number) => void",signature:{arguments:[{type:{name:"number"},name:"opacity"}],return:{name:"void"}}},description:""},globalPicker:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},variant:{required:!1,tsType:{name:"union",raw:'"small" | "base"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"base"'}]},description:"",defaultValue:{value:'"base"',computed:!1}},preset:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},popupDirection:{required:!1,tsType:{name:"union",raw:'"up" | "down"',elements:[{name:"literal",value:'"up"'},{name:"literal",value:'"down"'}]},description:"",defaultValue:{value:'"up"',computed:!1}}}};const De="_colors_164ol_3",E={colors:De,"global-color-presets":"_global-color-presets_164ol_65","corner-cutout":"_corner-cutout_164ol_90"},Ge=({selectedColor:a,globalPresets:s,setSelectedColor:i,className:l,style:o,popupDirection:m})=>{var w;const p=a in s,h=(a==null?void 0:a.replace(/^#/,""))??"",d=h.length>=6?`#${h.slice(0,6)}`:"",L=h.length===8?h.slice(6,8):"ff",P=parseInt(L,16)/255,[f,y]=g.useState(p?1:P),x=p?a:d,N=v=>{const C=Math.round(f*255).toString(16).padStart(2,"0"),S=`${v.replace(/^#/,"")}${C}`;i(`#${S}`)},k=v=>{y(1),i(v)},$=v=>{var T;y(v);const C=Math.round(v*255).toString(16).padStart(2,"0"),S=p?((T=s[x])==null?void 0:T.color)||"":x,q=`${S.replace(/^#/,"")}${C}`;S&&i(`#${q}`)};return e.jsx(F,{className:`${E.colorPicker} ${l}`,style:o,children:e.jsxs(F,{direction:"horizontal",className:E.colors,children:[e.jsx(ne,{color:x in s?((w=s[x])==null?void 0:w.color)||"":x,setColor:N,globalPicker:x in s,preset:[],opacity:f,setOpacity:$,popupDirection:m}),Object.entries(s).filter(([,v])=>v.status==="active").map(([v,C])=>e.jsx("div",{className:E["global-color-presets"],style:{backgroundColor:C.color,borderColor:C.color.toUpperCase()==="#FFFFFF"?"var(--pac-upui-medium)":C.color},onClick:()=>k(v),children:e.jsx("div",{className:E["corner-cutout"],style:{backgroundColor:C.color.toUpperCase()==="#FFFFFF"?"var(--pac-upui-medium)":"white"}})},v))]})})};Ge.__docgenInfo={description:"",methods:[],displayName:"ColorPicker",props:{selectedColor:{required:!0,tsType:{name:"string"},description:""},globalPresets:{required:!0,tsType:{name:"Record",elements:[{name:"string"},{name:"GlobalPreset"}],raw:"Record<string, GlobalPreset>"},description:""},setSelectedColor:{required:!0,tsType:{name:"signature",type:"function",raw:"(color: string) => void",signature:{arguments:[{type:{name:"string"},name:"color"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},popupDirection:{required:!1,tsType:{name:"union",raw:'"up" | "down"',elements:[{name:"literal",value:'"up"'},{name:"literal",value:'"down"'}]},description:""}}};export{Ge as C,ne as a};
