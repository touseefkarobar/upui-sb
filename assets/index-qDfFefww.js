import{j as t,r as m}from"./iframe-BLidZRXv.js";import{S as j}from"./index-CN8KR_sj.js";import{s as ae}from"./type-Bc9hys3F.js";import{I as b}from"./index-CP6ImXgl.js";import{S as N}from"./index-DyexUHty.js";import{u as je}from"./useOutsideToggle-BT5iKPKA.js";import{F as we}from"./FilledIcon-DJ-wcNn3.js";import{R as ye}from"./ResetIcon-C2P6O_CN.js";import{B as se}from"./index-o_hkclIC.js";const Fe="_wrapper_c1tau_3",ke="_trigger_c1tau_8",Ne="_activeColor_c1tau_22",Se="_base_c1tau_29",$e="_small_c1tau_54",Ie="_popup_c1tau_82",Me="_up_c1tau_97",Re="_down_c1tau_101",Te="_canvasMock_c1tau_105",Le="_colorCanvas_c1tau_113",He="_canvasShade_c1tau_121",We="_hueSliderWrap_c1tau_135",ze="_alphaSliderWrap_c1tau_136",Ee="_hueSlider_c1tau_135",Pe="_alphaSlider_c1tau_136",qe="_presets_c1tau_193",Be="_presetColor_c1tau_198",Ve="_comboWrapper_c1tau_208",Ue="_divider_c1tau_218",De="_input_c1tau_233",Ge="_selecttrigger_c1tau_246",Oe="_select_c1tau_246",Ae="_alphaInput_c1tau_260",Xe="_Inputhex_c1tau_266",n={wrapper:Fe,trigger:ke,activeColor:Ne,"global-color-picker":"_global-color-picker_c1tau_29",base:Se,"corner-cutout":"_corner-cutout_c1tau_43",small:$e,popup:Ie,up:Me,down:Re,canvasMock:Te,colorCanvas:Le,canvasShade:He,hueSliderWrap:We,alphaSliderWrap:ze,hueSlider:Ee,alphaSlider:Pe,presets:qe,presetColor:Be,comboWrapper:Ve,divider:Ue,input:De,selecttrigger:Ge,select:Oe,alphaInput:Ae,Inputhex:Xe},A=({size:e="base",color:s="var(--pac-upui-icon)"})=>{const r=ae[e]||ae.base;return t.jsxs("svg",{width:r,height:r,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[t.jsx("path",{d:"M14.5696 0.69638C14.3489 0.475603 14.0868 0.300471 13.7984 0.180985C13.51 0.0614989 13.2008 0 12.8886 0C12.5764 0 12.2673 0.0614989 11.9789 0.180985C11.6904 0.300471 11.4284 0.475603 11.2076 0.69638L9.52622 2.37699L8.96601 1.816C8.89239 1.74243 8.80501 1.68408 8.70884 1.64429C8.61267 1.60449 8.50961 1.58403 8.40553 1.58407C8.30145 1.5841 8.1984 1.60464 8.10226 1.6445C8.00612 1.68437 7.91878 1.74277 7.84521 1.81639C7.77164 1.89001 7.7133 1.9774 7.6735 2.07357C7.63371 2.16974 7.61324 2.2728 7.61328 2.37688C7.61332 2.48095 7.63385 2.584 7.67372 2.68014C7.71358 2.77628 7.77199 2.86363 7.84561 2.9372L12.328 7.41883C12.478 7.55971 12.677 7.63669 12.8828 7.63349C13.0885 7.6303 13.285 7.54717 13.4305 7.40171C13.5761 7.25624 13.6594 7.05985 13.6627 6.85409C13.6661 6.64832 13.5892 6.44933 13.4484 6.29921L12.8882 5.73901L14.5696 4.05761C15.0153 3.61183 15.2656 3.00732 15.2656 2.37699C15.2656 1.74667 15.0153 1.14215 14.5696 0.69638V0.69638Z",fill:s}),t.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.86822 4.034L1.70518 10.1978C1.35739 10.5454 1.12592 10.9923 1.04262 11.4769C0.959321 11.9615 1.0283 12.46 1.24006 12.9038L0 14.1438L1.12041 15.265L2.36046 14.0242C2.80416 14.236 3.30262 14.3051 3.78721 14.222C4.27181 14.1388 4.71872 13.9075 5.0664 13.5598L11.2294 7.39681L7.86822 4.0332V4.034ZM8.98862 7.39601L7.86822 6.2756L2.82558 11.3182C2.68125 11.4677 2.60138 11.6678 2.60319 11.8756C2.60499 12.0833 2.68833 12.2821 2.83524 12.429C2.98215 12.5759 3.18088 12.6592 3.38864 12.661C3.5964 12.6628 3.79655 12.583 3.94599 12.4386L8.98862 7.39601Z",fill:s})]})};A.__docgenInfo={description:"",methods:[],displayName:"ColorPickerIcon",props:{size:{required:!1,tsType:{name:"union",raw:`| "xsmall"
| "small"
| "base"
| "medium"
| "large"
| "xlarge"
| "2xlarge"
| "3xlarge"
| "4xlarge"
| "5xlarge"
| "6xlarge"`,elements:[{name:"literal",value:'"xsmall"'},{name:"literal",value:'"small"'},{name:"literal",value:'"base"'},{name:"literal",value:'"medium"'},{name:"literal",value:'"large"'},{name:"literal",value:'"xlarge"'},{name:"literal",value:'"2xlarge"'},{name:"literal",value:'"3xlarge"'},{name:"literal",value:'"4xlarge"'},{name:"literal",value:'"5xlarge"'},{name:"literal",value:'"6xlarge"'}]},description:"",defaultValue:{value:'"base"',computed:!1}},color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"var(--pac-upui-icon)"',computed:!1}}}};const ne=""+new URL("color_picker_bg-C-XbJ_WF.jpg",import.meta.url).href;function Ze(e){const s=e.match(/^hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)$/i);if(!s)return null;const[r,l,o,g]=s;return{h:parseInt(l),s:parseFloat(o),l:parseFloat(g)}}function re(e){let s=e.replace(/^#/,"");return!s||s.length!==3&&s.length!==6?{r:0,g:0,b:0}:(s.length===3&&(s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2]),{r:parseInt(s.slice(0,2),16),g:parseInt(s.slice(2,4),16),b:parseInt(s.slice(4,6),16)})}function q(e){const{r:s,g:r,b:l}=re(e);return Ye(s,r,l)}function ie(e,s,r){s/=100,r/=100;let l=(1-Math.abs(2*r-1))*s,o=l*(1-Math.abs(e/60%2-1)),g=r-l/2,p=0,v=0,d=0;return 0<=e&&e<60?[p,v,d]=[l,o,0]:60<=e&&e<120?[p,v,d]=[o,l,0]:120<=e&&e<180?[p,v,d]=[0,l,o]:180<=e&&e<240?[p,v,d]=[0,o,l]:240<=e&&e<300?[p,v,d]=[o,0,l]:300<=e&&e<360&&([p,v,d]=[l,0,o]),{r:Math.round((p+g)*255),g:Math.round((v+g)*255),b:Math.round((d+g)*255)}}function O(e){if(!e)return;const{h:s,s:r,l}=Ze(e),{r:o,g,b:p}=ie(s,r,l);return le(o,g,p)}function le(e,s,r){return"#"+[e,s,r].map(l=>{const o=l.toString(16);return o.length===1?"0"+o:o}).join("")}function Ye(e,s,r){e/=255,s/=255,r/=255;const l=Math.max(e,s,r),o=Math.min(e,s,r);let g=0,p=0;const v=(l+o)/2;if(l!==o){const d=l-o;switch(p=v>.5?d/(2-l-o):d/(l+o),l){case e:g=((s-r)/d+(s<r?6:0))*60;break;case s:g=((r-e)/d+2)*60;break;case r:g=((e-s)/d+4)*60;break}}return{h:Math.round(g),s:Math.round(p*100),l:Math.round(v*100)}}const oe=({color:e,setColor:s,opacity:r=1,setOpacity:l,globalPicker:o=!1,preset:g,variant:p="base",popupDirection:v="up",enableConfirmation:d=!1})=>{const[M,z]=m.useState(e),[S,R]=m.useState(r),w=m.useCallback(()=>{d&&(s(M),l(S))},[d,M,S,s,l]),{isOpen:y,toggle:$,ref:V}=je(!1,w),T=m.useRef(!1),[h,x]=m.useState(0),[f,k]=m.useState(0),[F,L]=m.useState(0),[H,ce]=m.useState("RGB"),[ue,X]=m.useState(!1),[pe,de]=m.useState({width:0,height:0}),[E,Z]=m.useState({r:0,g:255,b:0}),me=m.useRef(null),W=m.useRef(null),I=m.useCallback(()=>{if(W.current){const a=W.current.getBoundingClientRect();de({width:a.width,height:a.height})}},[]);m.useEffect(()=>(I(),window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)),[I]),m.useEffect(()=>{d&&y&&!T.current&&(z(e),R(r)),T.current=y},[y,d,e,r]);const he=()=>{const{width:a,height:c}=pe,i=f/100*a;let u=0;if(a>0&&c>0){const C=100-i/a*50,_=0;u=c*(1-(F-_)/(C-_)),u=Math.max(0,Math.min(c,u))}return{left:i,top:u}},ge=a=>{const c=parseInt(a.target.value);x(c);const i=O(`hsl(${c}, ${f}%, ${F}%)`);s(i||"")},P=a=>{let c=a.target.value;if(c===""){l(0);return}/^0\d+/.test(c)&&(c=c.replace(/^0+/,""));const i=parseInt(c,10);if(!isNaN(i)){const u=Math.max(0,Math.min(100,i));l(u*.01)}},Y=(a,c)=>{if(!W.current)return;const i=W.current.getBoundingClientRect(),u=Math.max(0,Math.min(i.width,a-i.left)),C=Math.max(0,Math.min(i.height,c-i.top)),_=i.width,G=i.height,_e=100-u/_*50,Q=0,ee=Math.round(Q+(_e-Q)*(1-C/G)),te=Math.round(u/_*100);k(te),L(ee);const be=`hsl(${h}, ${te}%, ${ee}%)`;s(O(be)??"")},ve=a=>{X(!0),Y(a.clientX,a.clientY)},xe=a=>{ue&&Y(a.clientX,a.clientY)},J=()=>{X(!1)};m.useEffect(()=>{const{h:a,s:c,l:i}=q(e)||{h:0,s:0,l:0};x(a),k(c),L(i)},[e]),m.useEffect(()=>{if(e){let a;e.startsWith("#")?a=re(e):e.startsWith("hsl")?a=ie(h,f,F):a={r:0,g:0,b:0},Z(a)}else Z({r:0,g:0,b:0})},[e]);const U=(a,c)=>{let i=parseInt(c);isNaN(i)&&(i=0),i=Math.max(0,Math.min(255,i));const u={...E,[a]:i},C=le(u.r,u.g,u.b);s(C)},D=(a,c)=>{let i=parseInt(c);isNaN(i)&&(i=0),i=Math.max(0,Math.min(a==="h"?359:100,i));let u=h,C=f,_=F;a==="h"?u=i:a==="s"?C=i:_=i;const G=O(`hsl(${u}, ${C}%, ${_}%)`);s(G||"")},fe=a=>{const i=`#${a.trim().replace(/^#/,"")}`,{h:u,s:C,l:_}=q(i);s(i),x(u),k(C),L(_)},Ce=a=>{const{h:c,s:i,l:u}=q(a);s(a),x(c),k(i),L(u)};m.useEffect(()=>{y&&setTimeout(I,0)},[y,I]);const K=he();return t.jsxs("div",{className:n.wrapper,ref:V,children:[t.jsxs("div",{style:{backgroundImage:`url(${ne})`,backgroundSize:"contain",borderRadius:"100px",WebkitBackgroundSize:"700%",position:"relative"},children:[t.jsx("div",{className:`${o&&(e||p==="small")?n["global-color-picker"]:n.trigger} ${e&&!o?n.activeColor:""} ${p?n[p]:""}`,style:{backgroundColor:e,borderColor:e.toUpperCase()==="#FFFFFF"?"var(--pac-upui-medium)":e,borderWidth:e?"1px":"2px",opacity:r},onClick:$,children:o&&t.jsx("div",{className:n["corner-cutout"],style:{backgroundColor:e.toUpperCase()==="#FFFFFF"?"var(--pac-upui-medium)":"white"}})}),p==="base"&&t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",inset:"0"},onClick:$,children:t.jsx(A,{size:"xsmall",color:e.toUpperCase()==="#FFFFFF"||r<.33||!e?"var(--pac-upui-icon)":"white"})})]}),y&&t.jsxs("div",{className:`${n.popup} ${n[v]}`,ref:me,children:[t.jsx("div",{className:n.canvasMock,children:t.jsxs("div",{className:n.colorCanvas,ref:W,style:{"--hue":h,position:"relative"},onPointerDown:ve,onPointerMove:xe,onPointerUp:J,onPointerLeave:J,children:[t.jsx("div",{className:n.canvasShade}),t.jsx("div",{className:n.selectionMarker,style:{position:"absolute",left:K.left+"px",top:K.top+"px",width:"16px",height:"16px",borderRadius:"50%",border:"2px solid  var(--pac-upui-white)",boxShadow:"0 0 2px rgba(0,0,0,0.5)",pointerEvents:"none",background:e,transform:"translate(-50%, -50%)"}})]})}),t.jsxs(j,{gap:12,children:[t.jsxs(j,{direction:"horizontal",children:[t.jsx(Je,{handleEyeDropperClick:Ce,color:e,opacity:r}),t.jsxs(j,{gap:12,style:{flexGrow:1},children:[t.jsx("input",{type:"range",min:"0",max:"359",value:h,className:n.hueSlider,onChange:ge}),t.jsx("input",{type:"range",min:"0",max:"100",value:r*100,className:n.alphaSlider,onChange:P,style:{background:`linear-gradient(to right, rgba(0,0,0,0), hsl(${h}, 100%, 50%))`}})]})]}),t.jsxs(j,{gap:12,children:[t.jsxs(j,{direction:"horizontal",alignItems:"center",children:[t.jsx(we,{onClick:()=>s(""),icon:ye,size:"xlarge",rounded:!0,fillColor:"var(--pac-upui-background)"})," ",t.jsxs("div",{className:`${n.comboWrapper} `,children:[t.jsxs(N,{onValueChange:ce,defaultValue:H,defaultLabel:H,className:`${n.select}`,children:[t.jsx(N.Trigger,{className:`${n.selecttrigger}`,children:t.jsx(N.Value,{})}),t.jsxs(N.Content,{className:n.content,children:[t.jsx(N.Item,{value:"RGB",children:"RGB"}),t.jsx(N.Item,{value:"HSL",children:"HSL"}),t.jsx(N.Item,{value:"HEX",children:"HEX"})]})]}),H==="RGB"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:n.divider}),t.jsx(b,{caption:"R: ",value:E.r,onChange:a=>U("r",a.target.value),className:`${n.input} `}),t.jsx("div",{className:n.divider}),t.jsx(b,{caption:"G:",value:E.g,onChange:a=>U("g",a.target.value),className:`${n.input} `}),t.jsx("div",{className:n.divider}),t.jsx(b,{caption:"B:",value:E.b,onChange:a=>U("b",a.target.value),className:`${n.input} `}),t.jsx("div",{className:n.divider}),t.jsx(b,{caption:"%",value:r*100,onChange:a=>P(a),className:`${n.input} ${n.alphaInput} `})]}),H==="HSL"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:n.divider}),t.jsx(b,{caption:"H: ",value:h,onChange:a=>D("h",a.target.value),className:`${n.input} `}),t.jsx("div",{className:n.divider}),t.jsx(b,{caption:"S:",value:f,onChange:a=>D("s",a.target.value),className:`${n.input} `}),t.jsx("div",{className:n.divider}),t.jsx(b,{caption:"L:",value:F,onChange:a=>D("l",a.target.value),className:`${n.input} `}),t.jsx("div",{className:n.divider}),t.jsx(b,{caption:"%",value:r*100,onChange:a=>P(a),className:`${n.input} ${n.alphaInput} `})]}),H==="HEX"&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:n.divider}),t.jsx(b,{type:"text",value:e||"#000000",onChange:a=>fe(a.target.value),maxLength:7,className:`${n.input} ${n.Inputhex}`}),t.jsx("div",{className:n.divider}),t.jsx(b,{caption:"%",value:r*100,onChange:a=>P(a),className:`${n.input} ${n.alphaInput} ${n.alphaInputhex}`})]})]})]}),t.jsx(j,{direction:"horizontal",className:n.presets,children:g.map(a=>t.jsx("div",{className:n.presetColor,style:{backgroundColor:a,borderColor:a.toUpperCase()==="#FFFFFF"?"var(--pac-upui-medium)":a},onClick:()=>{const{h:c,s:i,l:u}=q(a);s(a),x(c),k(i),L(u)}},a))}),d&&t.jsxs(j,{direction:"horizontal",children:[t.jsx(se,{variant:"tertiary",width:"stretch",onClick:()=>{s(M),l(S),$()},children:"Cancel"}),t.jsx(se,{variant:"secondary",width:"stretch",onClick:()=>{z(e),R(r),$()},children:"Confirm"})]})]})]})]})]})},Je=({color:e,opacity:s,handleEyeDropperClick:r})=>{const l=async()=>{if(!("EyeDropper"in window)){alert("Eyedropper API not supported");return}try{const g=await new window.EyeDropper().open();r(g.sRGBHex)}catch(o){console.error(o)}};return t.jsxs("div",{style:{backgroundImage:`url(${ne})`,backgroundSize:"contain",borderRadius:"100px",WebkitBackgroundSize:"700%",position:"relative"},children:[t.jsx("div",{className:`${n.trigger} ${e?n.activeColor:""}`,style:{backgroundColor:e,borderColor:e.toUpperCase()==="#FFFFFF"?"var(--pac-upui-medium)":e,borderWidth:e?"1px":"2px",opacity:s}}),t.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",position:"absolute",inset:"0"},onClick:l,children:t.jsx(A,{size:"xsmall",color:e.toUpperCase()==="#FFFFFF"||s<.33||!e?"var(--pac-upui-icon)":"white"})})]})};oe.__docgenInfo={description:"",methods:[],displayName:"CustomColorPicker",props:{color:{required:!0,tsType:{name:"string"},description:""},setColor:{required:!0,tsType:{name:"signature",type:"function",raw:"(color: string) => void",signature:{arguments:[{type:{name:"string"},name:"color"}],return:{name:"void"}}},description:""},opacity:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"1",computed:!1}},setOpacity:{required:!0,tsType:{name:"signature",type:"function",raw:"(opacity: number) => void",signature:{arguments:[{type:{name:"number"},name:"opacity"}],return:{name:"void"}}},description:""},globalPicker:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},variant:{required:!1,tsType:{name:"union",raw:'"small" | "base"',elements:[{name:"literal",value:'"small"'},{name:"literal",value:'"base"'}]},description:"",defaultValue:{value:'"base"',computed:!1}},preset:{required:!0,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},popupDirection:{required:!1,tsType:{name:"union",raw:'"up" | "down"',elements:[{name:"literal",value:'"up"'},{name:"literal",value:'"down"'}]},description:"",defaultValue:{value:'"up"',computed:!1}},enableConfirmation:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const Ke="_colors_164ol_3",B={colors:Ke,"global-color-presets":"_global-color-presets_164ol_65","corner-cutout":"_corner-cutout_164ol_90"},Qe=({selectedColor:e,globalPresets:s,setSelectedColor:r,className:l,style:o,popupDirection:g})=>{var T;const p=e in s,v=(e==null?void 0:e.replace(/^#/,""))??"",d=v.length>=6?`#${v.slice(0,6)}`:"",M=v.length===8?v.slice(6,8):"ff",z=parseInt(M,16)/255,[S,R]=m.useState(p?1:z),w=p?e:d,y=h=>{const x=Math.round(S*255).toString(16).padStart(2,"0"),f=`${h.replace(/^#/,"")}${x}`;r(`#${f}`)},$=h=>{R(1),r(h)},V=h=>{var F;R(h);const x=Math.round(h*255).toString(16).padStart(2,"0"),f=p?((F=s[w])==null?void 0:F.color)||"":w,k=`${f.replace(/^#/,"")}${x}`;f&&r(`#${k}`)};return t.jsx(j,{className:`${B.colorPicker} ${l}`,style:o,children:t.jsxs(j,{direction:"horizontal",className:B.colors,children:[t.jsx(oe,{color:w in s?((T=s[w])==null?void 0:T.color)||"":w,setColor:y,globalPicker:w in s,preset:[],opacity:S,setOpacity:V,popupDirection:g}),Object.entries(s).filter(([,h])=>h.status==="active").map(([h,x])=>t.jsx("div",{className:B["global-color-presets"],style:{backgroundColor:x.color,borderColor:x.color.toUpperCase()==="#FFFFFF"?"var(--pac-upui-medium)":x.color},onClick:()=>$(h),children:t.jsx("div",{className:B["corner-cutout"],style:{backgroundColor:x.color.toUpperCase()==="#FFFFFF"?"var(--pac-upui-medium)":"white"}})},h))]})})};Qe.__docgenInfo={description:"",methods:[],displayName:"ColorPicker",props:{selectedColor:{required:!0,tsType:{name:"string"},description:""},globalPresets:{required:!0,tsType:{name:"Record",elements:[{name:"string"},{name:"GlobalPreset"}],raw:"Record<string, GlobalPreset>"},description:""},setSelectedColor:{required:!0,tsType:{name:"signature",type:"function",raw:"(color: string) => void",signature:{arguments:[{type:{name:"string"},name:"color"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:""},style:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},popupDirection:{required:!1,tsType:{name:"union",raw:'"up" | "down"',elements:[{name:"literal",value:'"up"'},{name:"literal",value:'"down"'}]},description:""}}};export{Qe as C,oe as a};
