import{R as s,j as i}from"./iframe-DqFU3lqS.js";import{C as N}from"./CloseIcon-Cqw2CKjT.js";const P="_container_8axxt_1",V="_disabled_8axxt_22",H="_input_8axxt_27",L="_tag_8axxt_31",u={container:P,disabled:V,input:H,tag:L,"tag-label":"_tag-label_8axxt_46","remove-button":"_remove-button_8axxt_51"},M=o=>o.trim(),w=({value:o,defaultValue:g=[],onChange:p,onInputChange:m,allowDuplicates:T=!1,validateTag:d,className:R,disabled:t,placeholder:C="Type and press enter…",onKeyDown:r,...E})=>{const c=Array.isArray(o),[$,v]=s.useState(g),[l,b]=s.useState(""),k=s.useRef(null);s.useEffect(()=>{c||v(g)},[g,c]);const a=c?o:$,f=s.useCallback(e=>{c||v(e),p==null||p(e)},[c,p]),x=s.useCallback(e=>{const n=M(e);n&&(!T&&a.some(h=>h.localeCompare(n,void 0,{sensitivity:"accent"})===0)||d&&!d(n,a)||(f([...a,n]),b("")))},[T,a,f,d]),y=s.useCallback(e=>{if(t)return;const n=a.filter((_,h)=>h!==e);f(n)},[t,a,f]),j=s.useCallback(e=>{if(t){r==null||r(e);return}e.key==="Enter"?(e.preventDefault(),x(l)):e.key===" "&&/\s{1,}$/.test(l)?(e.preventDefault(),x(l.trim())):e.key==="Backspace"&&l.length===0&&a.length&&(e.preventDefault(),y(a.length-1)),r==null||r(e)},[t,x,y,l,r,a]),I=s.useCallback(e=>{t||(b(e.target.value),m==null||m(e))},[t,m]),q=s.useCallback(()=>{var e;t||(e=k.current)==null||e.focus()},[t]),A=a.length===0&&l.length===0?C:"";return i.jsxs("div",{className:`${u.container} ${t?u.disabled:""} ${R||""}`,onClick:q,"data-disabled":t,children:[a.map((e,n)=>i.jsxs("span",{className:`${u.tag} pac-upui-h4 pac-upui-font-regular`,children:[i.jsx("span",{className:u["tag-label"],children:e}),i.jsx("button",{type:"button",className:u["remove-button"],onClick:_=>{_.stopPropagation(),y(n)},"aria-label":`Remove ${e}`,disabled:t,children:i.jsx(N,{size:"base",color:"var(--pac-upui-medium)"})})]},`${e}-${n}`)),i.jsx("input",{ref:k,type:"text",className:`${u.input} pac-upui-h4 pac-upui-font-regular`,value:l,onChange:I,onKeyDown:j,placeholder:A,disabled:t,...E})]})};w.__docgenInfo={description:"",methods:[],displayName:"TagInput",props:{value:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},defaultValue:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:"[]",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(tags: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"tags"}],return:{name:"void"}}},description:""},onInputChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"event"}],return:{name:"void"}}},description:""},allowDuplicates:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},validateTag:{required:!1,tsType:{name:"signature",type:"function",raw:"(tag: string, currentTags: string[]) => boolean",signature:{arguments:[{type:{name:"string"},name:"tag"},{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"currentTags"}],return:{name:"boolean"}}},description:""},placeholder:{defaultValue:{value:'"Type and press enter…"',computed:!1},required:!1}},composes:["Omit"]};export{w as T};
