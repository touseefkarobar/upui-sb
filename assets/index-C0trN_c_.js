import{r as n,j as r}from"./iframe-BHBhYjQq.js";import{A as j}from"./AddIcon-CR4vMKGb.js";import{C as w}from"./CloseIcon-B7sQNzeI.js";import{F as m}from"./FilledIcon-Cz3BrzVq.js";import{T as y}from"./Text-_q3N7_9X.js";import{F}from"./FaqIcon-BKqH2KaO.js";const I="_picker_p4csw_1",k="_errorTextContainer_p4csw_15",T="_add_p4csw_23",N="_error_p4csw_15",R="_image_p4csw_34",B="_removeBtn_p4csw_41",E="_filled_p4csw_51",s={picker:I,errorTextContainer:k,add:T,error:N,image:R,removeBtn:B,filled:E},$=e=>e.type.startsWith("image/"),q=({onChange:e,className:_=""})=>{const[l,i]=n.useState(null),[p,a]=n.useState(!1),o=n.useRef(null),x=t=>{var d;const c=(d=t.target.files)==null?void 0:d[0];if(a(!1),c){if(!$(c)){i(null),a(!0),e==null||e(null);return}const u=new FileReader;u.onload=g=>{var f;i((f=g.target)==null?void 0:f.result),e==null||e(c)},u.readAsDataURL(c)}else i(null)},v=t=>{t.stopPropagation(),i(null),a(!1),o.current&&(o.current.value=""),e==null||e(null)};return r.jsxs("div",{className:`
        ${s.picker}
        ${l?s.filled:s.add}
        ${p?s.error:""}
        ${_}
      `.replace(/\s+/g," ").trim(),onClick:()=>{var t;return!l&&((t=o.current)==null?void 0:t.click())},children:[r.jsx("input",{ref:o,type:"file",accept:"image/*",style:{display:"none"},onChange:x}),p?r.jsxs(y,{as:"div",className:`${s.errorTextContainer}`,children:[r.jsx(m,{icon:F,size:"large",fillColor:"#fff0ee",color:"#E34C2B"}),r.jsx("span",{className:s.errorText,children:"Invalid file type."})]}):l?r.jsxs(r.Fragment,{children:[r.jsx("img",{src:l,alt:"Selected",className:s.image,onError:()=>a(!0)}),r.jsx(m,{onClick:v,className:s.removeBtn,icon:w,size:"large",fillColor:"var(--pac-upui-red-100)",color:"var(--pac-upui-red-300)"})]}):r.jsx(m,{icon:j,size:"large",fillColor:"white",color:"var(--pac-upui-icon)"})]})};q.__docgenInfo={description:"",methods:[],displayName:"ImagePicker",props:{onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: File | null) => void",signature:{arguments:[{type:{name:"union",raw:"File | null",elements:[{name:"File"},{name:"null"}]},name:"file"}],return:{name:"void"}}},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'""',computed:!1}}}};export{q as I};
