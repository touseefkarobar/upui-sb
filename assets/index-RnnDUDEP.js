import{R as n,j as i}from"./iframe-XIocfRDf.js";import{C as N}from"./CloseIcon-D_Mx4RnG.js";const P="_container_nkgn5_1",V="_disabled_nkgn5_22",H="_input_nkgn5_27",L="_tag_nkgn5_31",u={container:P,disabled:V,input:H,tag:L,"tag-label":"_tag-label_nkgn5_46","remove-button":"_remove-button_nkgn5_51"},M=o=>o.trim(),w=({value:o,defaultValue:f=[],onChange:p,onInputChange:m,allowDuplicates:k=!1,validateTag:d,className:R,disabled:t,placeholder:C="Type and press enter…",onKeyDown:r,...E})=>{const c=Array.isArray(o),[$,v]=n.useState(f),[l,b]=n.useState(""),x=n.useRef(null);n.useEffect(()=>{c||v(f)},[f,c]);const a=c?o:$,g=n.useCallback(e=>{c||v(e),p==null||p(e)},[c,p]),y=n.useCallback(e=>{const s=M(e);s&&(!k&&a.some(T=>T.localeCompare(s,void 0,{sensitivity:"accent"})===0)||d&&!d(s,a)||(g([...a,s]),b("")))},[k,a,g,d]),_=n.useCallback(e=>{if(t)return;const s=a.filter((h,T)=>T!==e);g(s)},[t,a,g]),j=n.useCallback(e=>{if(t){r==null||r(e);return}e.key==="Enter"?(e.preventDefault(),y(l)):e.key===" "&&/\s{1,}$/.test(l)?(e.preventDefault(),y(l.trim())):e.key==="Backspace"&&l.length===0&&a.length&&(e.preventDefault(),_(a.length-1)),r==null||r(e)},[t,y,_,l,r,a]),I=n.useCallback(e=>{t||(b(e.target.value),m==null||m(e))},[t,m]),q=n.useCallback(()=>{var e;t||(e=x.current)==null||e.focus()},[t]),A=a.length===0&&l.length===0?C:"";return i.jsxs("div",{className:`${u.container} ${t?u.disabled:""} ${R||""}`,onClick:q,"data-disabled":t,children:[a.map((e,s)=>i.jsxs("span",{className:`${u.tag} pac-upui-h4 pac-upui-font-regular`,children:[i.jsx("span",{className:u["tag-label"],children:e}),i.jsx("button",{type:"button",className:u["remove-button"],onClick:h=>{h.stopPropagation(),_(s)},"aria-label":`Remove ${e}`,disabled:t,children:i.jsx(N,{size:"base",color:"var(--pac-upui-medium)"})})]},`${e}-${s}`)),i.jsx("input",{ref:x,type:"text",className:`${u.input} pac-upui-h4 pac-upui-font-regular`,value:l,onChange:I,onKeyDown:j,placeholder:A,disabled:t,...E})]})};w.__docgenInfo={description:"",methods:[],displayName:"TagInput",props:{value:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:""},defaultValue:{required:!1,tsType:{name:"Array",elements:[{name:"string"}],raw:"string[]"},description:"",defaultValue:{value:"[]",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(tags: string[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"tags"}],return:{name:"void"}}},description:""},onInputChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(event: React.ChangeEvent<HTMLInputElement>) => void",signature:{arguments:[{type:{name:"ReactChangeEvent",raw:"React.ChangeEvent<HTMLInputElement>",elements:[{name:"HTMLInputElement"}]},name:"event"}],return:{name:"void"}}},description:""},allowDuplicates:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},validateTag:{required:!1,tsType:{name:"signature",type:"function",raw:"(tag: string, currentTags: string[]) => boolean",signature:{arguments:[{type:{name:"string"},name:"tag"},{type:{name:"Array",elements:[{name:"string"}],raw:"string[]"},name:"currentTags"}],return:{name:"boolean"}}},description:""},placeholder:{defaultValue:{value:'"Type and press enter…"',computed:!1},required:!1}},composes:["Omit"]};export{w as T};
